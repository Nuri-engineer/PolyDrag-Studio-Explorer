(self.webpackChunkwebcomp_boilerplate_helloworld=self.webpackChunkwebcomp_boilerplate_helloworld||[]).push([[792],{435:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}function i(t){var e=function(t){if("object"!=r(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:e+""}n(676);var a=function(){return t=function t(e,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.svg=e,this.gridGroup=n,this.axesGroup=r,this.gridStep=o},(e=[{key:"render",value:function(t,e,n){if(this.svg){var r=this.svg.clientWidth,o=this.svg.clientHeight;this.gridGroup.innerHTML="",this.axesGroup.innerHTML="";for(var i=this.gridStep,a=i/t,s=Math.pow(10,Math.floor(Math.log10(a))),l=a/s,c=e%(i=([1,2,5,10].find(function(t){return l<=t})||10)*s*t),u=n%i,f=-e/t,h=10*Math.floor(f/10),y=-n/t,d=10*Math.floor(y/10),p=c;p<=r;p+=i){var v=document.createElementNS("http://www.w3.org/2000/svg","line");v.setAttribute("x1",p),v.setAttribute("y1",0),v.setAttribute("x2",p),v.setAttribute("y2",o),v.classList.add("grid-line"),this.gridGroup.appendChild(v);var m=h+10*Math.round((p-c)/i);if(m>=0){var b=document.createElementNS("http://www.w3.org/2000/svg","text");b.setAttribute("x",p),b.setAttribute("y",o-5),b.setAttribute("text-anchor","middle"),b.classList.add("axis-label"),b.textContent=m,this.gridGroup.appendChild(b)}}for(var g=u;g<=o;g+=i){var w=document.createElementNS("http://www.w3.org/2000/svg","line");w.setAttribute("x1",0),w.setAttribute("y1",g),w.setAttribute("x2",r),w.setAttribute("y2",g),w.classList.add("grid-line"),this.gridGroup.appendChild(w);var k=d+10*Math.round((o-g-u)/i);if(0!==k&&k>=0){var S=document.createElementNS("http://www.w3.org/2000/svg","text");S.setAttribute("x",0),S.setAttribute("y",g),S.classList.add("axis-label"),S.textContent=k,this.gridGroup.appendChild(S)}}}}}])&&o(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function u(t){var e=function(t){if("object"!=s(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==s(e)?e:e+""}var f=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.contentGroup=e,this.items=[]},e=[{key:"setItems",value:function(t){this.items=Array.isArray(t)?t:[],this.render()}},{key:"render",value:function(){var t=this;if(this.contentGroup){var e=new Map;this.contentGroup.querySelectorAll(".polygon").forEach(function(t){e.set(t.dataset.id,t)}),this.items.forEach(function(n){var r=e.get(n.id);r||((r=document.createElementNS("http://www.w3.org/2000/svg","g")).classList.add("polygon"),r.setAttribute("draggable","true"),r.dataset.id=n.id,r.innerHTML=n.svg,t.contentGroup.appendChild(r),r.addEventListener("dragstart",function(e){e.dataTransfer.setData("text/plain",r.dataset.id),e.dataTransfer.effectAllowed="move",t.contentGroup.appendChild(r);var n=r.dataset.id,o=t.items.findIndex(function(t){return t.id===n});if(-1!==o){var i=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return l(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.items.splice(o,1),1)[0];t.items.push(i)}})),null!=n.x&&null!=n.y?r.setAttribute("transform","translate(".concat(n.x,",").concat(n.y,")")):r.removeAttribute("transform"),e.delete(n.id)}),e.forEach(function(t){return t.remove()})}}}],e&&c(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d(r.key),r)}}function d(t){var e=function(t){if("object"!=h(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==h(e)?e:e+""}var p=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scale=1,this.minScale=.2,this.maxScale=5,this.translateX=0,this.translateY=0,this.isPanning=!1,this.panStart={x:0,y:0},this.panTranslateStart={x:0,y:0}},(e=[{key:"setScale",value:function(t,e,n){var r=Math.min(this.maxScale,Math.max(this.minScale,t));this.translateX=e-(e-this.translateX)*r/this.scale,this.translateY=n-(n-this.translateY)*r/this.scale,this.scale=r}},{key:"startPan",value:function(t,e){this.isPanning=!0,this.panStart={x:t,y:e},this.panTranslateStart={x:this.translateX,y:this.translateY}}},{key:"panTo",value:function(t,e){if(this.isPanning){var n=t-this.panStart.x,r=e-this.panStart.y;this.translateX=this.panTranslateStart.x+n,this.translateY=this.panTranslateStart.y+r}}},{key:"endPan",value:function(){this.isPanning=!1}}])&&y(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach(function(e){g(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function g(t,e,n){return(e=k(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,k(r.key),r)}}function k(t){var e=function(t){if("object"!=v(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==v(e)?e:e+""}function S(t){var e="function"==typeof Map?new Map:void 0;return S=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return function(t,e,n){if(O())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var o=new(t.bind.apply(t,r));return n&&E(o,n.prototype),o}(t,arguments,P(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),E(n,t)},S(t)}function O(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(O=function(){return!!t})()}function E(t,e){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},E(t,e)}function P(t){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},P(t)}var j=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e,n){return e=P(e),function(t,e){if(e&&("object"==v(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,O()?Reflect.construct(e,n||[],P(t).constructor):e.apply(t,n))}(this,e)).items=[],t._availablePolygons=[],t.gridStep=50,t.attachShadow({mode:"open"}),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E(t,e)}(e,t),n=e,r=[{key:"connectedCallback",value:function(){this.shadowRoot.innerHTML='\n      <style>\n        :host {\n          display: block;\n          border: 1px solid #ccc;\n          user-select: none;\n          overflow: hidden;\n          position: relative;\n          height: 300px;\n        }\n        svg {\n          width: 100%;\n          height: 100%;\n          background: #fafafa;\n          cursor: grab;\n        }\n        svg:active {\n          cursor: grabbing;\n        }\n        .polygon {\n          cursor: grab;\n        }\n        text.axis-label {\n          font-size: 10px;\n          fill: #666;\n          user-select: none;\n        }\n        line.grid-line {\n          stroke: #ddd;\n          stroke-width: 1;\n        }\n        line.axis-line {\n          stroke: #333;\n          stroke-width: 2;\n        }\n      </style>\n      <svg tabindex="0">\n        <defs>\n          <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" \n                  orient="auto" markerUnits="strokeWidth">\n            <path d="M0,0 L0,6 L9,3 z" fill="#333" />\n          </marker>\n        </defs>\n        <g class="grid"></g>\n        <g class="axes"></g>\n        <g class="content" transform="translate(0,0) scale(1)"></g>\n      </svg>\n    ',this.svg=this.shadowRoot.querySelector("svg"),this.gridGroup=this.svg.querySelector("g.grid"),this.axesGroup=this.svg.querySelector("g.axes"),this.contentGroup=this.svg.querySelector("g.content"),this.transformController=new p,this.gridRenderer=new a(this.svg,this.gridGroup,this.axesGroup,this.gridStep),this.polygonManager=new f(this.contentGroup),this.svg.addEventListener("wheel",this.onWheel.bind(this),{passive:!1}),this.svg.addEventListener("mousedown",this.onMouseDown.bind(this)),window.addEventListener("mouseup",this.onMouseUp.bind(this)),window.addEventListener("mousemove",this.onMouseMove.bind(this)),this.svg.addEventListener("dragover",this.onDragOver.bind(this)),this.svg.addEventListener("drop",this.onDrop.bind(this)),this.render()}},{key:"data",set:function(t){this.items=Array.isArray(t)?t:[],this.polygonManager.setItems(this.items),this.render()}},{key:"availablePolygons",get:function(){return this._availablePolygons||[]},set:function(t){this._availablePolygons=Array.isArray(t)?t:[]}},{key:"render",value:function(){this.polygonManager.render(),this.updateTransform(),this.gridRenderer.render(this.transformController.scale,this.transformController.translateX,this.transformController.translateY)}},{key:"updateTransform",value:function(){var t=this.transformController,e=t.translateX,n=t.translateY,r=t.scale;this.contentGroup.setAttribute("transform","translate(".concat(e,",").concat(n,") scale(").concat(r,")"))}},{key:"onWheel",value:function(t){t.preventDefault();var e=this.svg.getBoundingClientRect(),n=t.clientX-e.left,r=t.clientY-e.top,o=t.deltaY<0?1.1:.9,i=this.transformController.scale*o;this.transformController.setScale(i,n,r),this.render()}},{key:"onMouseDown",value:function(t){0===t.button&&(this.transformController.startPan(t.clientX,t.clientY),this.svg.style.cursor="grabbing")}},{key:"onMouseMove",value:function(t){this.transformController.isPanning&&(this.transformController.panTo(t.clientX,t.clientY),this.render())}},{key:"onMouseUp",value:function(t){0===t.button&&(this.transformController.endPan(),this.svg.style.cursor="grab")}},{key:"onDragOver",value:function(t){t.preventDefault(),t.dataTransfer.dropEffect="move"}},{key:"onDrop",value:function(t){var e=this;t.preventDefault();var n=t.dataTransfer.getData("text/plain");if(n&&!this.items.find(function(t){return t.id===n})){var r=this.availablePolygons.find(function(t){return t.id===n});if(r){document.querySelectorAll("zone-work").forEach(function(t){if(t!==e){var r=t.items.findIndex(function(t){return t.id===n});-1!==r&&(t.items.splice(r,1),t.render())}});var o=this.getScenePoint(t.clientX,t.clientY),i=b(b({},r),{},{x:o.x,y:o.y,svg:r.svg.replace("<g ",'<g transform="translate('.concat(o.x,",").concat(o.y,')" '))});this.items.push(i),this.polygonManager.setItems(this.items),this.render()}}}},{key:"getScenePoint",value:function(t,e){var n=this.svg.getBoundingClientRect(),r=this.svg.clientHeight,o=this.transformController,i=o.translateX,a=o.translateY,s=o.scale;return{x:(t-n.left-i)/s,y:(r-(e-n.top)-a)/s}}}],r&&w(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(S(HTMLElement));function M(t){for(var e=Math.floor(4*Math.random())+3,n=Math.floor(40*Math.random())+30,r=[],o=0;o<e;o++){var i,a=2*Math.PI*o/e,s=50+(i=o%2==0?n*(.7+1*Math.random())*(Math.random(),1):n*(1+1*Math.random()))*Math.cos(a),l=50+i*Math.sin(a);r.push("".concat(s,",").concat(l))}return{id:t,svg:'<svg width="100" height="100"><polygon points="'.concat(r.join(" "),'" fill="').concat("#9d3a60ff",'" stroke="#333" stroke-width="2"/></svg>')}}function x(t){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x(t)}function C(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,I(r.key),r)}}function I(t){var e=function(t){if("object"!=x(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=x(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==x(e)?e:e+""}customElements.define("zone-work",j);var T=function(){return t=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.helpIconId,r=void 0===n?"help-icon":n,o=e.modalOverlaySelector,i=void 0===o?".modal-overlay":o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.helpIcon=document.getElementById(r),this.modalOverlay=document.querySelector(i),this.helpIcon&&this.modalOverlay?(this.closeButton=this.modalOverlay.querySelector(".close-button"),this.helpModal=this.modalOverlay.querySelector(".help-modal"),this.handleOpen=this.openModal.bind(this),this.handleKeyDownIcon=this.onIconKeyDown.bind(this),this.handleOverlayClick=this.closeModal.bind(this),this.handleModalClick=function(t){return t.stopPropagation()},this.handleCloseClick=this.closeModal.bind(this),this.handleWindowKeyDown=this.onWindowKeyDown.bind(this)):console.warn("HelpModal: необходимые элементы не найдены в DOM")},e=[{key:"init",value:function(){this.helpIcon&&this.modalOverlay&&(this.helpIcon.addEventListener("click",this.handleOpen),this.helpIcon.addEventListener("keydown",this.handleKeyDownIcon),this.modalOverlay.addEventListener("click",this.handleOverlayClick),this.helpModal.addEventListener("click",this.handleModalClick),this.closeButton.addEventListener("click",this.handleCloseClick),window.addEventListener("keydown",this.handleWindowKeyDown))}},{key:"openModal",value:function(){this.modalOverlay.style.display="flex",document.body.style.overflow="hidden",this.closeButton.focus()}},{key:"closeModal",value:function(){this.modalOverlay.style.display="none",document.body.style.overflow="",this.helpIcon.focus()}},{key:"onIconKeyDown",value:function(t){"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),this.openModal())}},{key:"onWindowKeyDown",value:function(t){"Escape"===t.key&&"flex"===this.modalOverlay.style.display&&this.closeModal()}},{key:"destroy",value:function(){this.helpIcon&&this.modalOverlay&&(this.helpIcon.removeEventListener("click",this.handleOpen),this.helpIcon.removeEventListener("keydown",this.handleKeyDownIcon),this.modalOverlay.removeEventListener("click",this.handleOverlayClick),this.helpModal.removeEventListener("click",this.handleModalClick),this.closeButton.removeEventListener("click",this.handleCloseClick),window.removeEventListener("keydown",this.handleWindowKeyDown))}}],e&&C(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function A(t){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(t)}function L(t){return function(t){if(Array.isArray(t))return D(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return D(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function B(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_(r.key),r)}}function _(t){var e=function(t){if("object"!=A(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=A(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==A(e)?e:e+""}var G="polygons",R=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.bufferItems=[],this.workItems=[],this.elements={bufferZone:document.getElementById("bufferZone"),workZone:document.getElementById("workZone"),saveBtn:document.getElementById("saveBtn"),resetBtn:document.getElementById("resetBtn"),createBtn:document.getElementById("createBtn")}},e=[{key:"init",value:function(){this.loadPolygons(),this.setupEventListeners(),this.updateComponents()}},{key:"loadPolygons",value:function(){try{var t=localStorage.getItem(G);if(!t)return;var e=JSON.parse(t).work,n=void 0===e?[]:e;this.workItems=Array.isArray(n)?n:[]}catch(t){console.error("Ошибка при загрузке данных:",t)}}},{key:"savePolygons",value:function(){try{var t={work:this.workItems};localStorage.setItem(G,JSON.stringify(t)),this.showFeedback("Сохранено!")}catch(t){console.error("Ошибка при сохранении:",t),this.showFeedback("Ошибка сохранения!",!0)}}},{key:"resetPolygons",value:function(){try{localStorage.removeItem(G),this.workItems=[],this.updateComponents(),this.showFeedback("Данные сброшены!")}catch(t){console.error("Ошибка при сбросе:",t),this.showFeedback("Ошибка сброса!",!0)}}},{key:"generateNewPolygons",value:function(){var t=Math.floor(16*Math.random())+5;this.bufferItems=function(t){for(var e=[],n=new Set,r=0,o=10*t;e.length<t&&r<o;){var i,a=M("poly".concat(e.length)),s=(null===(i=a.svg.match(/points="([^"]+)"/))||void 0===i?void 0:i[1])||"";n.has(s)||(n.add(s),e.push(a)),r++}return e}(t),this.updateComponents()}},{key:"updateComponents",value:function(){var t=this.elements,e=t.bufferZone,n=t.workZone;e.data!==this.bufferItems&&(e.data=this.bufferItems),n.data!==this.workItems&&(n.data=this.workItems),n.availablePolygons=[].concat(L(this.bufferItems),L(this.workItems))}},{key:"setupEventListeners",value:function(){var t=this,e=this.elements,n=e.createBtn,r=e.saveBtn,o=e.resetBtn;n.addEventListener("click",function(){return t.generateNewPolygons()}),r.addEventListener("click",function(){return t.savePolygons()}),o.addEventListener("click",function(){return t.resetPolygons()})}},{key:"showFeedback",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];alert(t),e?console.error(t):console.log(t)}}],e&&B(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();document.addEventListener("DOMContentLoaded",function(){["bufferZone","workZone","saveBtn","resetBtn","createBtn"].every(function(t){return document.getElementById(t)})?((new R).init(),(new T).init()):console.error("Не все необходимые элементы найдены в DOM")})},676:()=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,n(o.key),o)}}function n(e){var n=function(e){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(n)?n:n+""}function r(t){var e="function"==typeof Map?new Map:void 0;return r=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return function(t,e,n){if(o())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var a=new(t.bind.apply(t,r));return n&&i(a,n.prototype),a}(t,arguments,a(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),i(n,t)},r(t)}function o(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(o=function(){return!!t})()}function i(t,e){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},i(t,e)}function a(t){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},a(t)}var s=function(n){function r(){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=function(e,n,r){return n=a(n),function(e,n){if(n&&("object"==t(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e)}(e,o()?Reflect.construct(n,r||[],a(e).constructor):n.apply(e,r))}(this,r)).attachShadow({mode:"open"}),e.items=[],e.container=document.createElement("div"),e.shadowRoot.appendChild(e.container),e.container.addEventListener("dragstart",function(t){var e=t.target.closest(".polygon");e&&t.dataTransfer.setData("text/plain",e.dataset.id)});var n=document.createElement("style");return n.textContent="\n      .polygon {\n          margin: 8px;\n          cursor: grab;\n          display: inline-block;\n      }\n    ",e.shadowRoot.appendChild(n),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i(t,e)}(r,n),s=r,(l=[{key:"data",set:function(t){Array.isArray(t)&&(this.items=t,this.render())}},{key:"connectedCallback",value:function(){this.render()}},{key:"render",value:function(){if(this.items.length){var t=document.createDocumentFragment();this.items.forEach(function(e){var n=document.createElement("div");n.className="polygon",n.draggable=!0,n.dataset.id=e.id,n.innerHTML=e.svg,t.appendChild(n)}),this.container.innerHTML="",this.container.appendChild(t)}else this.container.innerHTML="<p>Нет полигонов</p>"}}])&&e(s.prototype,l),Object.defineProperty(s,"prototype",{writable:!1}),s;var s,l}(r(HTMLElement));customElements.define("zone-buffer",s)}},t=>{t(t.s=435)}]);